{"version":3,"sources":["home/Home.js","tic-tac-toe/GameBoard.js","algorithm/MinMax.js","tic-tac-toe/utils.js","tic-tac-toe/PlayingStage.js","tic-tac-toe/TicTacToe.js","tic-tac-toe/index.js","App.js","tic-tac-toe/image.jpg","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","root","maxWidth","media","height","GameItem","image","imageTitle","title","description","path","classes","history","useHistory","Card","elevation","CardActionArea","onClick","push","CardMedia","className","CardContent","Typography","gutterBottom","variant","component","color","Home","games","id","Grid","container","justify","alignItems","direction","map","e","item","Square","value","Board","squares","onUserClick","row","idx","col","TYPE_MAX","max","arr","reduce","acc","cur","min","notType","type","computeScore","position","player","deep","evaluateScore","evaluateStop","dump","isEnd","filter","steps","findAvailableSteps","type2func","winLines","calculateWinner","i","length","a","b","c","winner","generateStepByAI","step","score","selectStep","PlayingStage","onFinish","userPlayer","aiPlayer","useState","Array","fill","finish","state","setState","useEffect","nextPlayer","useMemo","getNextPlayer","console","log","moveHandler","useCallback","tmp","old","useMoveHandler","handleUserClick","useHandleUserClick","useAIPlayer","BeginStage","onNextStage","disabled","TicTacToe","props","stage","times","humanFirst","latestWinner","style","render","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"uUAaMA,G,MAAYC,YAAW,CAC3BC,KAAM,CACJC,SAAU,KAEZC,MAAO,CACLC,OAAQ,QAGZ,SAASC,EAAT,GAAoE,IAAhDC,EAA+C,EAA/CA,MAAOC,EAAwC,EAAxCA,WAAYC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,YAAaC,EAAQ,EAARA,KACnDC,EAAUZ,IACVa,EAAUC,cAChB,OACE,cAACC,EAAA,EAAD,CAAMC,UAAW,EAAjB,SACE,eAACC,EAAA,EAAD,CACEC,QAAS,WACPL,EAAQM,KAAKR,IAFjB,UAKE,cAACS,EAAA,EAAD,CAAWC,UAAWT,EAAQR,MAAOG,MAAOA,EAAOE,MAAOD,IAC1D,eAACc,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAYC,cAAY,EAACC,QAAQ,KAAKC,UAAU,KAAhD,SACGjB,IAEH,cAACc,EAAA,EAAD,CAAYE,QAAQ,QAAQE,MAAM,gBAAgBD,UAAU,IAA5D,SACGhB,YAOE,SAASkB,EAAT,GAA0B,IAAVC,EAAS,EAATA,MAC7B,OACE,qBAAKC,GAAG,OAAOT,UAAU,uCAAzB,SACE,cAACU,EAAA,EAAD,CACEC,WAAS,EACTC,QAAQ,SACRC,WAAW,SAEXC,UAAU,SACVd,UAAU,gBANZ,SAQGQ,EAAMO,KAAI,SAACC,GAAD,OACT,cAACN,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,cAAChC,EAAD,eAAc+B,KADAA,EAAEP,W,oBCxD5B,SAASS,EAAT,GAAqC,IAAnBrB,EAAkB,EAAlBA,QAASsB,EAAS,EAATA,MACzB,OACE,wBAAQnB,UAAU,SAASH,QAASA,EAApC,SACGsB,IAIA,SAASC,EAAT,GAA0C,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,YAC/B,OACE,8BACG,CACC,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACPP,KAAI,SAACQ,EAAKC,GAAN,OACJ,qBAAexB,UAAU,YAAzB,SACGuB,EAAIR,KAAI,SAACU,GAAD,OACP,cAACP,EAAD,CAEEC,MAAOE,EAAQI,GACf5B,QAAS,kBAAMyB,EAAYG,KAFtBA,OAHDD,Q,gBCdZE,EAAW,MAsCjB,SAASC,EAAIC,GACX,OAAOA,EAAIC,QAAO,SAACC,EAAKC,GACtB,OAAOD,EAAMC,EAAMD,EAAMC,KACvB,QAGN,SAASC,EAAIJ,GACX,OAAOA,EAAIC,QAAO,SAACC,EAAKC,GACtB,OAAOD,EAAMC,EAAMD,EAAMC,IACxB,QAEL,SAASE,EAAQC,GACf,OAAIA,IAASR,EAnDE,MAoDRA,EAOT,SAASS,EAAT,GAQI,IAPFd,EAOC,EAPDA,QACAe,EAMC,EANDA,SACAC,EAKC,EALDA,OACAH,EAIC,EAJDA,KACAI,EAGC,EAHDA,KACAC,EAEC,EAFDA,cACAC,EACC,EADDA,aAEMC,EAAI,YAAOpB,GACjBoB,EAAKL,GAAYC,EACjB,IAAMK,EAA2C,IAAnCD,EAAKE,QAAO,SAAC3B,GAAD,OAAa,OAANA,KACjC,GAAI0B,EACF,OAAOH,EAAcE,EAAMJ,EAAQK,GAGrC,GADeF,EAAaF,GAE1B,OAAOC,EAAcE,EAAMJ,EAAQK,GAErC,IAAME,EAAQC,EAAmBJ,EAAMJ,GAcvC,OAtCF,SAAmBH,GACjB,OAAIA,IAASR,EAAiBC,EACvBK,EAuBOc,CAAUZ,EAAVY,CACZF,EAAM7B,KAAI,SAACC,GAAD,OACRmB,EAAa,CACXd,QAASoB,EACTL,SAAUpB,EACVqB,SACAH,KAAMD,EAAQC,GACdI,KAAMA,EAAO,EACbC,gBACAC,qBAOR,SAASK,EAAmBxB,EAASgB,GACnC,OAAOhB,EAAQN,KAAI,SAACC,EAAGQ,GAAJ,OAAmB,OAANR,EAAaQ,GAAO,KAAImB,QAAO,SAAC3B,GAAD,OAAOA,GAAK,KC/F7E,IAAM+B,EAAW,CACf,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IAEF,SAASC,EAAgB3B,GAC9B,IAAK,IAAI4B,EAAI,EAAGA,EAAIF,EAASG,OAAQD,IAAK,CAAC,IAAD,cACtBF,EAASE,GADa,GACjCE,EADiC,KAC9BC,EAD8B,KAC3BC,EAD2B,KAExC,GAAIhC,EAAQ8B,IAAM9B,EAAQ8B,KAAO9B,EAAQ+B,IAAM/B,EAAQ8B,KAAO9B,EAAQgC,GACpE,OAAOhC,EAAQ8B,GAGnB,OAAiD,IAA7C9B,EAAQsB,QAAO,SAAC3B,GAAD,OAAa,OAANA,KAAYkC,OAC7B,OAEF,KAET,SAASX,EAAclB,EAASgB,EAAQK,GACtC,GAAIA,EAAO,CACT,IAAMY,EAASN,EAAgB3B,GAC/B,OAAe,OAAXiC,EACK,IACEA,IAAWjB,EACb,IAEA,EAGX,OAAO,EAET,SAASG,EAAaF,GACpB,OAAOA,EAAO,GAET,SAASiB,EAAiBlC,EAASgB,GACxC,ODxBK,SAAoBhB,EAASgB,EAAQE,EAAeC,GAoBzD,OAnBgBK,EAAmBxB,GAChCN,KAAI,SAACC,GACJ,MAAO,CACLwC,KAAMxC,EACNyC,MAAOtB,EAAa,CAClBd,UACAe,SAAUpB,EACVsB,KAAM,EACND,SACAH,KA1BO,MA2BPK,gBACAC,qBAILX,QAAO,SAACC,EAAKC,GAAN,OAAeD,EAAI2B,MAAQ1B,EAAI0B,MAAQ3B,EAAMC,IAAM,CACzDyB,MAAO,EACPC,OAAQ,SAEGD,KCIRE,CAAWrC,EAASgB,EAAQE,EAAeC,GCOrC,SAASmB,EAAT,GAA2D,IAAnCC,EAAkC,EAAlCA,SAAUC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,SAAY,EAC7CC,oBAAS,iBAAO,CACxC1C,QAAS2C,MAAM,GAAGC,KAAK,MACvBC,QAAQ,EACRZ,OAAQ,SAJ6D,mBAChEa,EADgE,KACzDC,EADyD,KAM/D/C,EAA4B8C,EAA5B9C,QAAS6C,EAAmBC,EAAnBD,OAAQZ,EAAWa,EAAXb,OACzBe,qBAAU,WACJf,GACFM,EAASN,KAEV,CAACA,EAAQM,IACZ,IAAMU,EAAaC,mBAAQ,kBDbtB,SAAuBlD,GAC5B,OAAOA,EAAQsB,QAAO,SAAC3B,GAAD,OAAa,OAANA,KAAYkC,OAAS,IAAM,EAAI,IAAM,ICYjCsB,CAAcnD,KAAU,CAACA,IAC1DoD,QAAQC,IAAI,cAAeJ,GAC3B,IAAMK,EAxDR,YAA8C,IAApBR,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACvB/C,EAAY8C,EAAZ9C,QACR,OAAOuD,uBACL,SAAC3B,EAAGZ,GACF,IAAIhB,EAAQ4B,GAAZ,CAGA,IAAM4B,EAAG,YAAOxD,GAChBwD,EAAI5B,GAAKZ,EACT,IAAMiB,EAASN,EAAgB6B,GAC/BT,GAAS,SAACU,GAAD,mBAAC,eACLA,GADI,IAEPzD,QAASwD,EACTvB,SACAY,OAAkB,MAAVZ,UAGZ,CAACjC,EAAS+C,IAuCQW,CAAe,CACjCZ,QACAC,WACAR,aAGIoB,EA1CR,YAA8E,IAAhDnB,EAA+C,EAA/CA,WAAYS,EAAmC,EAAnCA,WAAYK,EAAuB,EAAvBA,YAAaT,EAAU,EAAVA,OACjE,OAAOU,uBACL,SAAC3B,GACKiB,GACAL,IAAeS,IACnBG,QAAQC,IAAI,gBAAiBb,EAAY,eAAgBZ,GACzD0B,EAAY1B,EAAGY,MAEjB,CAACA,EAAYS,EAAYK,EAAaT,IAkChBe,CAAmB,CACzCpB,aACAS,aACAK,cACAT,WAKF,OAvCF,YAA8E,IAAvDA,EAAsD,EAAtDA,OAAQJ,EAA8C,EAA9CA,SAAUQ,EAAoC,EAApCA,WAAYjD,EAAwB,EAAxBA,QAASsD,EAAe,EAAfA,YAC5DN,qBAAU,WACR,IAAIH,GACAJ,IAAaQ,EAAjB,CACA,IAAMd,EAAOD,EAAiBlC,EAASyC,GACvCW,QAAQC,IAAI,cAAeZ,EAAU,eAAgBN,GACrDmB,EAAYnB,EAAMM,MACjB,CAACA,EAAUQ,EAAYjD,EAASsD,EAAaT,IA8BhDgB,CAAY,CAAEhB,SAAQJ,WAAUzC,UAASiD,aAAYK,gBAGnD,mCACE,qBAAK3E,UAAU,aAAf,SACE,cAACoB,EAAD,CAAOC,QAASA,EAASC,YAAa0D,QC3E9C,SAASG,EAAT,GAAgD,IAA1BC,EAAyB,EAAzBA,YAAaC,EAAY,EAAZA,SACjC,OACE,sBAAKrF,UAAU,eAAf,UACE,wBAAQqF,SAAUA,EAAUxF,QAAS,kBAAMuF,GAAY,IAAvD,iCAGA,wBAAQC,SAAUA,EAAUxF,QAAS,kBAAMuF,GAAY,IAAvD,uCCTSE,MDeA,SAAmBC,GAAQ,IAAD,EACbxB,mBAAS,CACjCyB,MAAO,EACPC,MAAO,EACPC,YAAY,EACZC,aAAc,OALuB,mBAChCxB,EADgC,KACzBC,EADyB,KAO/BoB,EAA2CrB,EAA3CqB,MAAOE,EAAoCvB,EAApCuB,WAAYC,EAAwBxB,EAAxBwB,aAAcF,EAAUtB,EAAVsB,MACnC7B,EAAWgB,uBACf,SAACtB,GAAD,OAAYc,GAAS,SAACU,GAAD,mBAAC,eAAcA,GAAf,IAAoBU,MAAO,EAAGG,aAAcrC,SACjE,CAACc,IAEH,OACE,qBAAK3D,GAAG,cAAR,SACE,sBAAKT,UAAU,OAAf,UACE,cAACmF,EAAD,CACEE,SAAoB,IAAVG,EACVJ,YAAa,SAACM,GAAD,OACXtB,GAAS,SAACU,GAAD,mBAAC,eACLA,GADI,IAEPU,MAAO,EACPE,aACAD,MAAOX,EAAIW,MAAQ,UAIzB,sBAAKG,MAAO,CAAExD,SAAU,YAAxB,UACE,cAACuB,EAAD,CAEEE,WAAY6B,EAAa,IAAM,IAC/B5B,SAAU4B,EAAa,IAAM,IAC7B9B,SAAUA,GAHL6B,GAKI,IAAVD,GACC,qBAAKxF,UAAU,OAAf,SACG2F,EACC,6CAAgBA,EAAhB,gCAEA,oEE/CVnF,EAAQ,CACZ,CACEC,GAAI,cACJvB,MCVW,IAA0B,kCDWrCE,MAAO,cACPD,WAAY,cACZE,YAAa,kDACbC,KAAM,eACNuG,OAAQ,kBAAM,cAAC,EAAD,OAoBHC,MAjBf,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACGtF,EAAMO,KAAI,SAACC,GAAD,OACT,cAAC,IAAD,CAAkB1B,KAAM0B,EAAE1B,KAA1B,SACG0B,EAAE6E,UADO7E,EAAEP,OAIhB,cAAC,IAAD,CAAOnB,KAAK,IAAZ,SACE,cAAC,EAAD,CAAMkB,MAAOA,YEhBRuF,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASX,OACP,cAAC,IAAMY,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.c57e61af.chunk.js","sourcesContent":["import {\r\n  Card,\r\n  CardActionArea,\r\n  CardContent,\r\n  CardMedia,\r\n  Grid,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./Home.css\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 240,\r\n  },\r\n});\r\nfunction GameItem({ image, imageTitle, title, description, path }) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  return (\r\n    <Card elevation={3}>\r\n      <CardActionArea\r\n        onClick={() => {\r\n          history.push(path);\r\n        }}\r\n      >\r\n        <CardMedia className={classes.media} image={image} title={imageTitle} />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}\r\nexport default function Home({ games }) {\r\n  return (\r\n    <div id=\"home\" className=\"h-nopadding-screen padding-container\">\r\n      <Grid\r\n        container\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n        //   spacing={4}\r\n        direction=\"column\"\r\n        className=\"h-full-parent\"\r\n      >\r\n        {games.map((e) => (\r\n          <Grid item key={e.id}>\r\n            <GameItem {...e} />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n","function Square({ onClick, value }) {\r\n  return (\r\n    <button className=\"square\" onClick={onClick}>\r\n      {value}\r\n    </button>\r\n  );\r\n}\r\nexport function Board({ squares, onUserClick }) {\r\n  return (\r\n    <div>\r\n      {[\r\n        [0, 1, 2],\r\n        [3, 4, 5],\r\n        [6, 7, 8],\r\n      ].map((row, idx) => (\r\n        <div key={idx} className=\"board-row\">\r\n          {row.map((col) => (\r\n            <Square\r\n              key={col}\r\n              value={squares[col]}\r\n              onClick={() => onUserClick(col)}\r\n            />\r\n          ))}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","const TYPE_MIN = \"min\";\r\nconst TYPE_MAX = \"max\";\r\n\r\nclass Node {\r\n  deep;\r\n  step;\r\n  score;\r\n  type;\r\n  constructor(deep, step, score, type) {\r\n    this.deep = deep;\r\n    this.score = score;\r\n    this.step = step;\r\n    this.type = type;\r\n  }\r\n}\r\n\r\nexport function selectStep(squares, player, evaluateScore, evaluateStop) {\r\n  const maxStep = findAvailableSteps(squares)\r\n    .map((e) => {\r\n      return {\r\n        step: e,\r\n        score: computeScore({\r\n          squares,\r\n          position: e,\r\n          deep: 1,\r\n          player,\r\n          type: TYPE_MIN,\r\n          evaluateScore,\r\n          evaluateStop,\r\n        }),\r\n      };\r\n    })\r\n    .reduce((acc, cur) => (acc.score > cur.score ? acc : cur), {\r\n      step: -1,\r\n      score: -999999,\r\n    });\r\n  return maxStep.step;\r\n}\r\n\r\nfunction max(arr) {\r\n  return arr.reduce((acc, cur) => {\r\n    return acc > cur ? acc : cur;\r\n  }, -999999);\r\n}\r\n\r\nfunction min(arr) {\r\n  return arr.reduce((acc, cur) => {\r\n    return acc < cur ? acc : cur;\r\n  }, 999999);\r\n}\r\nfunction notType(type) {\r\n  if (type === TYPE_MAX) return TYPE_MIN;\r\n  return TYPE_MAX;\r\n}\r\nfunction type2func(type) {\r\n  if (type === TYPE_MAX) return max;\r\n  return min;\r\n}\r\n\r\nfunction computeScore({\r\n  squares,\r\n  position,\r\n  player,\r\n  type,\r\n  deep,\r\n  evaluateScore,\r\n  evaluateStop,\r\n}) {\r\n  const dump = [...squares];\r\n  dump[position] = player;\r\n  const isEnd = dump.filter((e) => e === null) === 0;\r\n  if (isEnd) {\r\n    return evaluateScore(dump, player, isEnd);\r\n  }\r\n  const isStop = evaluateStop(deep);\r\n  if (isStop) {\r\n    return evaluateScore(dump, player, isEnd);\r\n  }\r\n  const steps = findAvailableSteps(dump, player);\r\n  const score = type2func(type)(\r\n    steps.map((e) =>\r\n      computeScore({\r\n        squares: dump,\r\n        position: e,\r\n        player,\r\n        type: notType(type),\r\n        deep: deep + 1,\r\n        evaluateScore,\r\n        evaluateStop,\r\n      })\r\n    )\r\n  );\r\n  return score;\r\n}\r\n\r\nfunction findAvailableSteps(squares, player) {\r\n  return squares.map((e, idx) => (e === null ? idx : -1)).filter((e) => e > -1);\r\n}\r\n","import { selectStep } from \"../algorithm/MinMax\";\r\nconst winLines = [\r\n  [0, 1, 2],\r\n  [3, 4, 5],\r\n  [6, 7, 8],\r\n  [0, 3, 6],\r\n  [1, 4, 7],\r\n  [2, 5, 8],\r\n  [0, 4, 8],\r\n  [2, 4, 6],\r\n];\r\nexport function calculateWinner(squares) {\r\n  for (let i = 0; i < winLines.length; i++) {\r\n    const [a, b, c] = winLines[i];\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n      return squares[a];\r\n    }\r\n  }\r\n  if (squares.filter((e) => e === null).length === 0) {\r\n    return \"draw\";\r\n  }\r\n  return null;\r\n}\r\nfunction evaluateScore(squares, player, isEnd) {\r\n  if (isEnd) {\r\n    const winner = calculateWinner(squares);\r\n    if (winner === null) {\r\n      return 100;\r\n    } else if (winner === player) {\r\n      return 1000;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n  return 0;\r\n}\r\nfunction evaluateStop(deep) {\r\n  return deep > 10;\r\n}\r\nexport function generateStepByAI(squares, player: \"O\" | \"X\") {\r\n  return selectStep(squares, player, evaluateScore, evaluateStop);\r\n}\r\nexport function playerNot(player) {\r\n  if (player === \"O\") return \"X\";\r\n  return \"O\";\r\n}\r\nexport function getNextPlayer(squares) {\r\n  return squares.filter((e) => e === null).length % 2 === 0 ? \"X\" : \"O\";\r\n}\r\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport { Board } from \"./GameBoard\";\r\nimport \"./TicTacToe.css\";\r\nimport { calculateWinner, generateStepByAI, getNextPlayer } from \"./utils\";\r\n\r\nfunction useMoveHandler({ state, setState }) {\r\n  const { squares } = state;\r\n  return useCallback(\r\n    (i, player) => {\r\n      if (squares[i]) {\r\n        return;\r\n      }\r\n      const tmp = [...squares];\r\n      tmp[i] = player;\r\n      const winner = calculateWinner(tmp);\r\n      setState((old) => ({\r\n        ...old,\r\n        squares: tmp,\r\n        winner,\r\n        finish: winner != null,\r\n      }));\r\n    },\r\n    [squares, setState]\r\n  );\r\n}\r\nfunction useHandleUserClick({ userPlayer, nextPlayer, moveHandler, finish }) {\r\n  return useCallback(\r\n    (i) => {\r\n      if (finish) return;\r\n      if (userPlayer !== nextPlayer) return;\r\n      console.log(\"user player: \", userPlayer, \" next step: \", i);\r\n      moveHandler(i, userPlayer);\r\n    },\r\n    [userPlayer, nextPlayer, moveHandler, finish]\r\n  );\r\n}\r\n\r\nfunction useAIPlayer({ finish, aiPlayer, nextPlayer, squares, moveHandler }) {\r\n  useEffect(() => {\r\n    if (finish) return;\r\n    if (aiPlayer !== nextPlayer) return;\r\n    const step = generateStepByAI(squares, aiPlayer);\r\n    console.log(\"ai player: \", aiPlayer, \" next step: \", step);\r\n    moveHandler(step, aiPlayer);\r\n  }, [aiPlayer, nextPlayer, squares, moveHandler, finish]);\r\n}\r\n\r\nexport default function PlayingStage({ onFinish, userPlayer, aiPlayer }) {\r\n  const [state, setState] = useState(() => ({\r\n    squares: Array(9).fill(null),\r\n    finish: false,\r\n    winner: null,\r\n  }));\r\n  const { squares, finish, winner } = state;\r\n  useEffect(() => {\r\n    if (winner) {\r\n      onFinish(winner);\r\n    }\r\n  }, [winner, onFinish]);\r\n  const nextPlayer = useMemo(() => getNextPlayer(squares), [squares]);\r\n  console.log(\"next player\", nextPlayer);\r\n  const moveHandler = useMoveHandler({\r\n    state,\r\n    setState,\r\n    onFinish,\r\n  });\r\n\r\n  const handleUserClick = useHandleUserClick({\r\n    userPlayer,\r\n    nextPlayer,\r\n    moveHandler,\r\n    finish,\r\n  });\r\n\r\n  useAIPlayer({ finish, aiPlayer, squares, nextPlayer, moveHandler });\r\n\r\n  return (\r\n    <>\r\n      <div className=\"game-board\">\r\n        <Board squares={squares} onUserClick={handleUserClick} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useCallback, useState } from \"react\";\r\nimport PlayingStage from \"./PlayingStage\";\r\nimport \"./TicTacToe.css\";\r\n\r\nfunction BeginStage({ onNextStage, disabled }) {\r\n  return (\r\n    <div className=\"begin-select\">\r\n      <button disabled={disabled} onClick={() => onNextStage(true)}>\r\n        Start - Human first\r\n      </button>\r\n      <button disabled={disabled} onClick={() => onNextStage(false)}>\r\n        Start - Computer first\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nexport default function TicTacToe(props) {\r\n  const [state, setState] = useState({\r\n    stage: 0,\r\n    times: 0,\r\n    humanFirst: true,\r\n    latestWinner: null,\r\n  });\r\n  const { stage, humanFirst, latestWinner, times } = state;\r\n  const onFinish = useCallback(\r\n    (winner) => setState((old) => ({ ...old, stage: 0, latestWinner: winner })),\r\n    [setState]\r\n  );\r\n  return (\r\n    <div id=\"tic-tac-toe\">\r\n      <div className=\"game\">\r\n        <BeginStage\r\n          disabled={stage !== 0}\r\n          onNextStage={(humanFirst) =>\r\n            setState((old) => ({\r\n              ...old,\r\n              stage: 1,\r\n              humanFirst,\r\n              times: old.times + 1,\r\n            }))\r\n          }\r\n        />\r\n        <div style={{ position: \"relative\" }}>\r\n          <PlayingStage\r\n            key={times}\r\n            userPlayer={humanFirst ? \"O\" : \"X\"}\r\n            aiPlayer={humanFirst ? \"X\" : \"O\"}\r\n            onFinish={onFinish}\r\n          />\r\n          {stage === 0 && (\r\n            <div className=\"mask\">\r\n              {latestWinner ? (\r\n                <div>Winner is {latestWinner}. Click button to restart!</div>\r\n              ) : (\r\n                <div>Click button to start!</div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import TicTacToe from \"./TicTacToe\";\r\nexport default TicTacToe;\r\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport Home from \"./home/Home\";\nimport TicTacToe from \"./tic-tac-toe\";\nimport TicTacToeImage from \"./tic-tac-toe/image.jpg\";\n\nconst games = [\n  {\n    id: \"tic-tac-toe\",\n    image: TicTacToeImage,\n    title: \"Tic-Tac-Toe\",\n    imageTitle: \"Tic-Tac-Toe\",\n    description: \"A Tic-Tac-Toe game with AI written by React JS.\",\n    path: \"/tic-tac-toe\",\n    render: () => <TicTacToe />,\n  },\n];\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        {games.map((e) => (\n          <Route key={e.id} path={e.path}>\n            {e.render()}\n          </Route>\n        ))}\n        <Route path=\"/\">\n          <Home games={games} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/image.6eba67d7.jpg\";","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}